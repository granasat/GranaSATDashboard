<div class='page-header'>
    <h1>Users</h1>
</div>


<div class="page-body">
    <div class="table-responsive">
        <table class="table table-bordered">
            <thead>
            <tr>
                <th>#</th>
                <th>Username</th>
                <th>Organization</th>
                <th>Mail</th>
                <th>Type</th>
                <th>Last visit</th>
                <th>Blocked</th>
                <th>Verified</th>
            </tr>
            </thead>
            <tbody>
            <tr ng-repeat="user in users">
                <td>{{user.USR_ID}}</td>
                <td>{{user.USR_NAME}}</td>
                <td>
                    <div ng-show="!user.edit">{{user.USR_ORGANIZATION}}</div>

                    <input ng-show="user.edit" ng-model="user.USR_ORGANIZATION" type="text" class="form-control" id="user.USR_ORGANIZATION">

                </td>
                <td>{{user.USR_MAIL}}</td>
                <td>
                    <div ng-show="!user.edit" ng-if="user.USR_TYPE==1">Admin</div>
                    <div ng-show="!user.edit" ng-if="user.USR_TYPE==2">Privileged</div>
                    <div ng-show="!user.edit" ng-if="user.USR_TYPE==3">Normal</div>

                    <select ng-model="user.USR_TYPE" ng-show="user.edit">
                        <option value="1">Admin</option>
                        <option value="2">Privileged</option>
                        <option value="3">Normal</option>
                    </select>
                </td>
                <td>{{user.USR_LAST_VST}}</td>

                <td>
                    <div ng-show="!user.edit" ng-if="user.USR_BLOCKED==0">No</div>
                    <div ng-show="!user.edit" ng-if="user.USR_BLOCKED==1">Yes</div>

                    <select ng-model="user.USR_BLOCKED" ng-show="user.edit">
                        <option value="0">No</option>
                        <option value="1">Yes</option>
                    </select>
                </td>

                <td>
                    <div ng-show="!user.edit" ng-if="user.USR_VERIFIED==0">No</div>
                    <div ng-show="!user.edit" ng-if="user.USR_VERIFIED==1">Yes</div>
                </td>

                <td><button ng-click="user.edit = !user.edit" ng-show="!user.edit" type="button" class="btn btn-warning" data-toggle="tooltip" data-placement="bottom" title={{mainTooltips.managementTab.editButton}} ><span class="glyphicon glyphicon-pencil" aria-hidden="true"></span></button>
                    <button ng-click="user.edit = !user.edit; modUser(user)" ng-show="user.edit" type="button" class="btn btn-primary" data-toggle="tooltip" data-placement="bottom" title={{mainTooltips.managementTab.confirmButton}} ><span class="glyphicon glyphicon-ok" aria-hidden="true"></span></button>
                    <button ng-click="delUser(user)" type="button" class="btn btn-danger"><span class="glyphicon glyphicon-remove" aria-hidden="true" data-toggle="tooltip" data-placement="bottom" title={{mainTooltips.managementTab.removeButton}}></span></button></td>
            </tr>
            </tbody>
        </table>
    </div>
</div>